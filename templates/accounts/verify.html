{% extends 'base.html' %}

{% block title %}Verify your account â€¢ Labang Online{% endblock %}

{% block content %}
  <section class="panel" style="max-width:640px;margin:0 auto;">
    <div class="header">
      <img src="{% load static %}{% static 'logo.png' %}" alt="" class="logo"/>
      <h1>Verify your account</h1>
    </div>
    <div class="body">
      <div class="messages">
        {% for message in messages %}
          <div class="msg {{ message.tags }}">{{ message }}</div>
        {% endfor %}
      </div>

      <form method="post" id="form-otp" style="margin-bottom:20px">
        {% csrf_token %}
        <input type="hidden" name="action" value="otp" />
        <div id="otp-email">
          <label>Email code</label>
          <input name="email_code" placeholder="6-digit code" />
          <div class="hint" style="margin-bottom:14px">Enter the code sent to your email. Check spam if you don't see it.</div>
        </div>
        <div id="otp-phone" style="display:none">
          <label>Phone code</label>
          <input name="phone_code" placeholder="6-digit code" />
          <div class="hint" style="margin-bottom:14px">Use the code sent via SMS.</div>
        </div>

        <div class="actions" style="justify-content:space-between;flex-wrap:wrap">
          <div>
            <button class="btn" type="button" id="switch-to-email">Use Email Code</button>
            <button class="btn" type="button" id="switch-to-phone">Use Phone Code</button>
          </div>
          <button class="btn btn-primary" type="submit">Verify</button>
        </div>
      </form>

      
    </div>
</section>

{% block scripts %}
<script>
  const emailBlock = document.getElementById('otp-email');
  const phoneBlock = document.getElementById('otp-phone');
  const toEmail = document.getElementById('switch-to-email');
  const toPhone = document.getElementById('switch-to-phone');
  function showEmail(){ emailBlock.style.display='block'; phoneBlock.style.display='none'; }
  function showPhone(){ emailBlock.style.display='none'; phoneBlock.style.display='block'; }
  toEmail.addEventListener('click', showEmail);
  toPhone.addEventListener('click', showPhone);
  showEmail();
</script>
{% endblock %}

{% endblock %}
